# 1. 프로젝트 개요 및 소개

백엔드의 경우 기반지식을 올바르게 학습하고 작업하지는 않아서 정확하지는 않다고 생각합니다. 최대한 기능이 동작되는 방향으로 코드를 구성하였고, 쿼리 부분은 간단한 경우 시퀄라이저의 문법을 이용하였으나, n:M관계의 테이블에서의 쿼리등의 복잡한 부분에서는 sql문이 익숙하지 않아서 이러한 경우에는 자바스크립트 문법으로 처리하였습니다.

# 2. 기술스택

- express:라우팅을 지원하는 서버 프레임워크 이용하기 위해 사용하였습니다.
- passport: 로그인 로직을 사용하기위해서 활용하였습니다.
- multer: 사진 업로드를 하기 위해서 사용하였습니다.
- sequelize : orm 으로 이용하였습니다.

# 3.핵심 코드

## 1.회원가입 시 비밀번호 처리

비밀번호의경우 단방향 암호화로 db에 저장합니다. 하지만 프론트 측에서 정보가 넘어올때 비밀번호가 그대로 넘어오면 문제가 있을수 있기에 프론트측에서 보낼때 양방향암호화를 한뒤에 넘기고, 그뒤에 다시 넘겨받습니다.

## 2.메일 인증기능

유저의 정보 아이디 혹은 비밀번호를 찾기위해서 회원가입시 등록한 이메일로 본인인증을 진행합니다. nodemailer라이브러리를 이용하여 6자리의 난수를 메일로 보내주고, 프론트 측으로 암호화된 인증번호를 보내어 인증한뒤 아이디 정보를 얻거나 혹은 비밀번호를 재설정 합니다.

## 3.에러처리

try catch 문을 통해 에러를 처리하고 있으며 존재하지 않는 라우터에 접근했을경우는 500 status, 존재하는 라우터에 접근했지만, 오류가 발생한 경우 403 에러를,

## 4.미들웨어

multer의 경우 사진을 받아오기 위해서 미들웨어로 사용하며, 커스텀으로 정의한 미들웨어는 로그인 여부를 판단하기 위한 미들웨어가 있습니다. 로그인이 꼭 필요한 경우와 로그인을 해서는안되는 경우에 이 미들웨어를 추가시켜 사용합니다. 프론트에서 체크하기는 하지만 백엔드측에서도 처리해주는것이 좋을것 같아 추가하였습니다.

# 4.db 구조도

추후 추가 예정
